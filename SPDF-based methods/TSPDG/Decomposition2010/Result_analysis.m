% Author: Xiaoming Xue
% Email: cupseven@163.com
%
% ------------
% Description:
% ------------
% This file is used to evaluate the grouping accuracy of the TSPDG algorithm
% on CEC'2010 benchmark problems. This program reads the decomposition
% results generated by TSPDG and shows if TSPDG is able to obtain an ideal 
% decomposition for specific function on CEC'2010 suite.

clc,clear;

% Specify the function
func_num = 1;
dim = 1000;

filename1 = sprintf('./cec2010/datafiles/f%02d_op.mat', func_num);
filename2 = sprintf('./cec2010/datafiles/f%02d_opm.mat', func_num);
if(exist(filename1))
    load(filename1);
elseif(exist(filename2))
    load(filename2);
end

if func_num <= 3
    GroupsIdeal = [];
    SepsIdeal = 1:1000;
elseif func_num > 3 && func_num <= 8
    GroupsIdeal{1,1} = p(1:50);
    SepsIdeal = p(51:1000);
elseif func_num > 8 && func_num <= 13
    for i = 1:10
        GroupsIdeal{1,i} = sort(p((i-1)*50+1:50*i));
    end
    SepsIdeal = p(501:1000);
elseif func_num > 13 && func_num <= 18
    for i=1:20
        GroupsIdeal{1,i} = sort(p((i-1)*50+1:50*i));
    end
    SepsIdeal = [];
else
    GroupsIdeal{1,1} = 1:1000;
    SepsIdeal = [];
end

filename3 = sprintf('./results2010/F%02d.mat', func_num);
load(filename3);
if length(Groups) == 1&&isempty(Groups{1})
    Groups = [];
end

[ps,split,Omega] = Metric(SepsIdeal,GroupsIdeal,Seps,Groups,dim);
