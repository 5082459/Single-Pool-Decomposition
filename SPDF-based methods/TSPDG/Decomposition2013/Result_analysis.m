% Author: Xiaoming Xue
% Email: cupseven@163.com
%
% ------------
% Description:
% ------------
% This file is used to evaluate the grouping accuracy of the TSPDG algorithm
% on CEC'2013 benchmark problems. This program reads the decomposition
% results generated by TSPDG and shows if TSPDG is able to obtain an ideal 
% decomposition for specific function on CEC'2013 suite.

clc,clear;

% Specify the function
func_num = 7;


if func_num==13 || func_num==14
    dim = 905;
else
    dim = 1000;
end
filenameIdeal = sprintf('./datafiles/f%02d', func_num);
load(filenameIdeal);
GroupsIdeal=cell(1,1);
if func_num <= 3 %fully separable
    GroupsIdeal{1,1}=[];
elseif func_num <= 11
    z=0;
    for i=1:length(s)
        GroupsIdeal{1,i}=sort(p(z+1:z+s(i)));
        z=z+s(i);
    end
else
    GroupsIdeal{1,1}= 1:dim;
end
SepsIdeal=[];

filename3 = sprintf('./results2013/F%02d.mat', func_num);
load(filename3);
if length(Groups) == 1&&isempty(Groups{1})
    Groups = [];
end

[ps,split,Omega] = Metric(SepsIdeal,GroupsIdeal,Seps,Groups,dim);